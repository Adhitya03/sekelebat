"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var d=0,e=null,g=null,k=-1,l=null,n=-1,q=!1,r=!1,t=!1,u=!1;function v(){return -1!==n&&null!==l&&l.length>=n||u&&t?q=!0:!1}function w(){if(r){throw Error("Already flushing work.")}if(null!==e){r=!0;try{e(!1,d)||(e=null)}finally{r=!1}}}function x(){if(r){throw Error("Already flushing work.")}if(null!==e){var f=e;r=!0;try{var c=!0;do{c=f(!0,d)}while(c);c||(e=null);return !0}finally{r=!1}}else{return !1}}var y=null,z=null,A=null,B=3,C=!1,D=!1,E=!1;function F(s,o){var P=s.next;if(P===s){y=null}else{s===y&&(y=P);var N=s.previous;N.next=P;P.previous=N}s.next=s.previous=null;P=s.callback;N=B;var O=A;B=s.priorityLevel;A=s;try{var M=s.expirationTime<=o;switch(B){case 1:var j=P(M);break;case 2:j=P(M);break;case 3:j=P(M);break;case 4:j=P(M);break;case 5:j=P(M)}}catch(i){throw i}finally{B=N,A=O}if("function"===typeof j){if(o=s.expirationTime,s.callback=j,null===y){y=s.next=s.previous=s}else{j=null;M=y;do{if(o<=M.expirationTime){j=M;break}M=M.next}while(M!==y);null===j?j=y:j===y&&(y=s);o=j.previous;o.next=j.previous=s;s.next=j;s.previous=o}}}function G(i){if(null!==z&&z.startTime<=i){do{var h=z,m=h.next;if(h===m){z=null}else{z=m;var j=h.previous;j.next=m;m.previous=j}h.next=h.previous=null;H(h,h.expirationTime)}while(null!==z&&z.startTime<=i)}}function I(b){E=!1;G(b);D||(null!==y?(D=!0,e=J):null!==z&&(b=z.startTime-b,g=I,k=d+b))}function J(h,f){D=!1;E&&(E=!1,g=null,k=-1);G(f);C=!0;try{if(!h){for(;null!==y&&y.expirationTime<=f;){F(y,f),f=d,G(f)}}else{if(null!==y){do{F(y,f),f=d,G(f)}while(null!==y&&!v())}}if(null!==y){return !0}if(null!==z){var i=z.startTime-f;g=I;k=d+i}return !1}finally{C=!1}}function K(b){switch(b){case 1:return -1;case 2:return 250;case 5:return 1073741823;case 4:return 10000;default:return 5000}}function H(i,h){if(null===y){y=i.next=i.previous=i}else{var m=null,j=y;do{if(h<j.expirationTime){m=j;break}j=j.next}while(j!==y);null===m?m=y:m===y&&(y=i);h=m.previous;h.next=m.previous=i;i.next=m;i.previous=h}}exports.unstable_flushAllWithoutAsserting=x;exports.unstable_flushNumberOfYields=function(f){if(r){throw Error("Already flushing work.")}if(null!==e){var c=e;n=f;r=!0;try{f=!0;do{f=c(!0,d)}while(f&&!q);f||(e=null)}finally{n=-1,r=q=!1}}};exports.unstable_flushExpired=w;exports.unstable_clearYields=function(){if(null===l){return[]}var b=l;l=null;return b};exports.unstable_flushUntilNextPaint=function(){if(r){throw Error("Already flushing work.")}if(null!==e){var f=e;u=!0;t=!1;r=!0;try{var c=!0;do{c=f(!0,d)}while(c&&!q);c||(e=null)}finally{r=q=u=!1}}};exports.unstable_flushAll=function(){if(null!==l){throw Error("Log is not empty. Assert on the log of yielded values before flushing additional work.")}x();if(null!==l){throw Error("While flushing work, something yielded a value. Use an assertion helper to assert on the log of yielded values, e.g. expect(Scheduler).toFlushAndYield([...])")}};exports.unstable_yieldValue=function(b){null===l?l=[b]:l.push(b)};exports.unstable_advanceTime=function(b){d+=b;r||(null!==g&&k<=d&&(g(d),k=-1,g=null),w())};exports.unstable_ImmediatePriority=1;exports.unstable_UserBlockingPriority=2;exports.unstable_NormalPriority=3;exports.unstable_IdlePriority=5;exports.unstable_LowPriority=4;exports.unstable_runWithPriority=function(h,f){switch(h){case 1:case 2:case 3:case 4:case 5:break;default:h=3}var i=B;B=h;try{return f()}finally{B=i}};exports.unstable_next=function(h){switch(B){case 1:case 2:case 3:var f=3;break;default:f=B}var i=B;B=f;try{return h()}finally{B=i}};exports.unstable_scheduleCallback=function(j,i,L){var o=d;if("object"===typeof L&&null!==L){var s=L.delay;s="number"===typeof s&&0<s?o+s:o;L="number"===typeof L.timeout?L.timeout:K(j)}else{L=K(j),s=o}L=s+L;j={callback:i,priorityLevel:j,startTime:s,expirationTime:L,next:null,previous:null};if(s>o){L=s;if(null===z){z=j.next=j.previous=j}else{i=null;var m=z;do{if(L<m.startTime){i=m;break}m=m.next}while(m!==z);null===i?i=z:i===z&&(z=j);L=i.previous;L.next=i.previous=j;j.next=i;j.previous=L}null===y&&z===j&&(E?(g=null,k=-1):E=!0,g=I,k=d+(s-o))}else{H(j,L),D||C||(D=!0,e=J)}return j};exports.unstable_cancelCallback=function(h){var f=h.next;if(null!==f){if(h===f){h===y?y=null:h===z&&(z=null)}else{h===y?y=f:h===z&&(z=f);var i=h.previous;i.next=f;f.previous=i}h.next=h.previous=null}};exports.unstable_wrapCallback=function(f){var c=B;return function(){var a=B;B=c;try{return f.apply(this,arguments)}finally{B=a}}};exports.unstable_getCurrentPriorityLevel=function(){return B};exports.unstable_shouldYield=function(){var b=d;G(b);return null!==A&&null!==y&&y.startTime<=b&&y.expirationTime<A.expirationTime||v()};exports.unstable_requestPaint=function(){t=!0};exports.unstable_continueExecution=function(){D||C||(D=!0,e=J)};exports.unstable_pauseExecution=function(){};exports.unstable_getFirstCallbackNode=function(){return y};exports.unstable_now=function(){return d};exports.unstable_forceFrameRate=function(){};